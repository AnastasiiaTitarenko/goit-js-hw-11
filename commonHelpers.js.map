{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\n\nexport function getPhotos(picture) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const API_KEY = \"43303597-4cf3538acd20e5586f11f779c\";\n    \n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: picture,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n\n   return fetch(`${BASE_URL}?${params}`)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n};\n","'use strict';\n\nexport function createMarkup(arr) {\n    return arr\n        .map(({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n    }) => `\n    <li class=\"galleryCard\">\n          <a href=\"${largeImageURL}\" class=\"lightbox-image\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"picture-icon\">\n          </a>\n\n          <div class=\"picture-info\">\n            \n          <div>\n              <span>Likes:</span>\n              <span class=\"likes\">${likes}</span>\n            </div>\n            \n            <div>\n              <span>Views:</span>\n              <span class=\"views\">${views}</span>\n            </div>\n            \n            <div>\n              <span>Comments:</span>\n              <span class=\"comments\">${comments}</span>\n            </div>\n           \n            <div>\n              <span>Downloads:</span>\n              <span class=\"downloads\">${downloads}</span>\n            </div>\n          </div>\n\n        </li>`).join('');\n    \n}","`use strict`;\n// Library iziToast\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Library SimpleLightbox\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Import \nimport { getPhotos } from \"./js/pixabay-api\";\nimport { createMarkup } from \"./js/render-functions\";\n\n// querySelectors\nconst btnSubmit = document.getElementById(\"search-btn\");\nconst searchForm = document.getElementById(\"search-form\");\nconst searchInput = document.querySelector(\"[picture]\");\nconst searchGallery = document.getElementById(\"gallery\");\n\nsearchForm.addEventListener(\"submit\", handleSubmit);\n\nfunction clearMarkup() {\n  gallery.innerHTML = '';\n}\nfunction handleSubmit(event) {\n    event.preventDefault();\n    const { picture } = event.currentTarget;\n\n    loader.style.display = \"block\";\n     clearMarkup();\n\n    getPhotos(picture.value)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    title: \"Error\",\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                });\n            } else {\n                gallery.innerHTML = createMarkup(data.hits);\n\n                const gallery = new SimpleLightbox(`.galleryCard a`, {\n                    captionType: `attr`,\n                    captionsData: `alt`,\n                    captionDelay: 250,\n                });\n            }\n        })\n        .catch(error => {\n            iziToast.error({\n                title: \"Error\",\n                message: \"Error\"\n            });\n             clearMarkup();\n        })\n        .finally(() => {\n            loader.style.display = \"none\";\n            searchForm.reset();\n        });\n}\n\n\n\n"],"names":["getPhotos","picture","BASE_URL","API_KEY","params","response","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","handleSubmit","clearMarkup","event","data","iziToast","gallery","SimpleLightbox","error"],"mappings":"wvBAGO,SAASA,EAAUC,EAAS,CAC/B,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAEF,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAC9B,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCpBO,SAASC,EAAaC,EAAK,CAC9B,OAAOA,EACF,IAAI,CAAC,CACN,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAU;AAAA;AAAA,qBAEWL,CAAa;AAAA,wBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAOdC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,oCAKLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,uCAKFC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKPC,CAAS;AAAA;AAAA;AAAA;AAAA,cAInC,EAAE,KAAK,EAAE,CAEvB,CC7BkB,SAAS,eAAe,YAAY,EACtD,MAAMC,EAAa,SAAS,eAAe,aAAa,EACpC,SAAS,cAAc,WAAW,EAChC,SAAS,eAAe,SAAS,EAEvDA,EAAW,iBAAiB,SAAUC,CAAY,EAElD,SAASC,GAAc,CACrB,QAAQ,UAAY,EACtB,CACA,SAASD,EAAaE,EAAO,CACzBA,EAAM,eAAc,EACpB,KAAM,CAAE,QAAAjB,CAAO,EAAKiB,EAAM,cAE1B,OAAO,MAAM,QAAU,QACtBD,IAEDjB,EAAUC,EAAQ,KAAK,EAClB,KAAKkB,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACrBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EAC7B,CAAiB,MACE,CACHC,EAAQ,UAAYf,EAAaa,EAAK,IAAI,EAE1C,MAAME,EAAU,IAAIC,EAAe,iBAAkB,CACjD,YAAa,OACb,aAAc,MACd,aAAc,GAClC,CAAiB,CACJ,CACb,CAAS,EACA,MAAMC,GAAS,CACZH,EAAS,MAAM,CACX,MAAO,QACP,QAAS,OACzB,CAAa,EACAH,GACb,CAAS,EACA,QAAQ,IAAM,CACX,OAAO,MAAM,QAAU,OACvBF,EAAW,MAAK,CAC5B,CAAS,CACT"}