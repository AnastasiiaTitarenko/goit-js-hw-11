{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["`use strict`;\n// Library\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = \"43303597-4cf3538acd20e5586f11f779c\";\n\nconst btnSubmit = document.querySelector(\".search-btn\");\nconst searchForm = document.querySelector(\".search-form\");\nconst searchInput = document.querySelector(\"[search-form-input]\");\n\nbtnSubmit.disabled = true;\n\nsearchForm.addEventListener(\"submit\", handleSubmit);\n\n\n\nfunction makeRequest(searchText) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: searchText,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n\n    fetch(`${BASE_URL}?${params}`)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status)\n            }\n            return response.json()\n        })\n        .then((data) => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    title: \"Error\",\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: \"topRight\",\n                });\n            } else {\n                displayImages(data.hits);\n                \n            }\n        })\n        .catch((error) => {\n            console.error(\"Error fetching images:\", error);\n        });\n};\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    const searchText = searchInput.value.trim();\n    if (searchText === \"\") {\n        iziToast.error({\n            title: \"Error\",\n            message: \"Search field cannot be empty\",\n            position: \"topRight\",\n        });\n    } else {\n        makeRequest(searchText);\n         btnSubmit.disabled = false;\n       \n    }\n}\n     \nconst gallery = document.querySelector(\".gallery\");\ngallery.innerHTML = \"\";\n// const galleryListHtml = images \n//         .map((image) => `\n//     <li class=\"gallery-item\">\n// \t<a class=\"gallery-link\" href=\"${image.original}\">\n// \t\t<img \n// \t\t\tclass=\"gallery-image\" \n// \t\t\tsrc=\"${image.preview}\" \n// \t\t\talt=\"${image.description}\" \n// \t\t\t/>\n// \t</a>\n// </li>`).join(\"\");\n\n// galleryList.innerHTML = galleryListHtml;\n    const lightbox = new simpleLightbox(`.gallery a`, {\n        captionType: `attr`,\n        captionsData: `alt`,\n        captionDelay: 250,\n    });\n\n  \nexport { makeRequest };\n"],"names":["BASE_URL","API_KEY","btnSubmit","searchForm","searchInput","handleSubmit","makeRequest","searchText","params","response","data","iziToast","error","event","gallery"],"mappings":"svBAQA,MAAMA,EAAW,2BACXC,EAAU,qCAEVC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,qBAAqB,EAEhEF,EAAU,SAAW,GAErBC,EAAW,iBAAiB,SAAUE,CAAY,EAIlD,SAASC,EAAYC,EAAY,CAC7B,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKP,EACL,EAAGM,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,MAAM,GAAGP,CAAQ,IAAIQ,CAAM,EAAE,EACxB,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,KAAM,CAClC,CAAS,EACA,KAAMC,GAAS,CACRA,EAAK,KAAK,SAAW,EACrBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAC9B,CAAiB,EAED,cAAcD,EAAK,IAAI,CAGvC,CAAS,EACA,MAAOE,GAAU,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CACzD,CAAS,CACT,CAEA,SAASP,EAAaQ,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMN,EAAaH,EAAY,MAAM,KAAI,EACrCG,IAAe,GACfI,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+BACT,SAAU,UACtB,CAAS,GAEDL,EAAYC,CAAU,EACrBL,EAAU,SAAW,GAG9B,CAEA,MAAMY,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAcC,IAAI,eAAe,aAAc,CAC9C,YAAa,OACb,aAAc,MACd,aAAc,GACjB,CAAA"}